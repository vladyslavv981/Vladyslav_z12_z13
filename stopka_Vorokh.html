<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
    <h1 align="center"><div class="image-rotator"><div class="rotator-slide" id="rotator-slide-1"><a href="https://www.darmowylicznik.pl/" title="Przejdź na stronę licznika" target="_blank"><img src="https://www.darmowylicznik.pl/licznik.php?id=148068" alt="Darmowy licznik odwiedzin" style="border:0px;" /></a></div></div></h1>
        <section>
        <p>Liczba odwiedzin strony: <span id="visit-count">1</span></p>
        <p>Liczba wpisów w księdze gości: <span id="entry-count">0</span></p>
    </section>

    <section>
        <form id="guestbook-form">
            <label for="name">Imię:</label>
            <input type="text" id="name" name="name" required>
            <br>
            <label for="message">Wiadomość:</label>
            <textarea id="message" name="message" rows="4" required></textarea>
            <br>
            <button type="submit">Dodaj wpis</button>
        </form>
        <div id="guestbook">
            <div id="entries"></div>
        </div>
    </section>

    <script>
        let visitCount = localStorage.getItem('visitCount') || 0;
        visitCount++;
        localStorage.setItem('visitCount', visitCount);
        document.getElementById('visit-count').textContent = visitCount;

        const entries = JSON.parse(localStorage.getItem('guestbookEntries')) || [];
        const entryCount = document.getElementById('entry-count');
        const entriesDiv = document.getElementById('entries');
        const form = document.getElementById('guestbook-form');

        function updateEntries() {
            entryCount.textContent = entries.length;
            entriesDiv.innerHTML = entries.map(entry => `
                <p><strong>${entry.name}:</strong> ${entry.message}</p>
            `).join('');
        }

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const message = document.getElementById('message').value;

            entries.push({ name, message });
            localStorage.setItem('guestbookEntries', JSON.stringify(entries));
            form.reset();
            updateEntries();
        });

        updateEntries();
    </script>
</body>
</html>
